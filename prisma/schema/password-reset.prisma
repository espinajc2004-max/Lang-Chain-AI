model PasswordResetCode {
  id         String    @id @default(cuid())
  user_id    String
  email      String
  code       String
  expires_at DateTime  @db.Timestamptz(6)
  used_at    DateTime? @db.Timestamptz(6)
  created_at DateTime? @default(now()) @db.Timestamptz(6)
  updated_at DateTime? @default(now()) @db.Timestamptz(6)
  user       User      @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@index([code], map: "idx_password_reset_codes_code")
  @@index([email], map: "idx_password_reset_codes_email")
  @@index([expires_at], map: "idx_password_reset_codes_expires_at")
  @@index([user_id], map: "idx_password_reset_codes_user_id")
  @@map("password_reset_codes")
}
